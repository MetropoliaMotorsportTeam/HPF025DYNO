import csv

# Read the original CSV file
with open('input.csv', 'r') as infile:
    reader = csv.reader(infile, delimiter=';')
    headers = next(reader)
    data_rows = []
    for row in reader:
        # Split each column into value and timestamp
        processed_row = []
        for item in row:
            # Assuming the format is "value:timestamp"
            value, timestamp = item.split(':')
            processed_row.append((value.strip(), timestamp.strip()))
        data_rows.append(processed_row)

# Create a new CSV with Time as the first column followed by signal names
with open('processed.csv', 'w') as outfile:
    writer = csv.writer(outfile)
    # Write headers: Time, Signal1, Signal2,...
    header_line = ['Time'] + [header.split(':')[0] for header in headers]
    writer.writerow(header_line)
    
    # Write data rows
    for row_data in data_rows:
        timestamp_values = [item[1] for item in row_data]
        values = [item[0] for item in row_data]
        combined_row = [timestamp_values[0]] + values  # Assuming all timestamps are the same per row
        writer.writerow(combined_row)
